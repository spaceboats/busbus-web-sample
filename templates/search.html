{% extends "_base.html" %}
{% block bodycss%}
    #body{
        margin-left: auto;
        margin-right: auto;
        padding:50px;
		width:1200px;
        height:500px;
    }

    form, .routes{
        width: 100%;
        padding:10px;
        color: #ffffff;
		font-weight:bold;
		font-size:24px;
        font-family:Arial, sans-serif;
        text-align:left;
        text-shadow:2px 0 15px #292929;
        text-decoration:none;
        letter-spacing:1px;
    }
	
	form{
		border: 10px solid green;
	}
{% endblock %}

{% block body %}
    <div id="body">
	<form name="theForm" action="{{ url_for('searchAgency') }}">
		Select the Agency:<br>
		<select name="agency" id="agencyList"></select>
		<input type="submit" value="Search"/>
	</form>
    </div>
	
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
		function displayAgencies(){
			var arr = [];
			
			//TODO: WHY WON'T THIS WORK?
			/*
			$.get("http://ec2-54-68-11-133.us-west-2.compute.amazonaws.com/agencies", function(data){
				for (var key=0, size=data.agencies.length; key<size; key++){
					arr.push(String(data.agencies[key].name));
				}
			}
			$.each(arr, function(index, value) {
				$("#agencies").append("<option>" + value + "</option>");
			});
			*/
			
			// Manually adding only working agency for now.
			$('#agencyList').append('<option>KU on Wheels & Lawrence Transit System</option>');
		}
		
		$(displayAgencies());

		//TODO: PRETTY SURE WAY I MADE THIS FORM OPEN ANOTHER HTML PAGE AND FETCHED THE AGENCY-SELECTED FROM THE URL
		//      ISN'T THE BEST WAY TO DO THIS. 
		
    </script>
{% endblock %}
{# vim: set syn=htmldjango: #}
